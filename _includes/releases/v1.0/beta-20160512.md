<h2 id="{{ include.release | slugify }}">{{ include.release }}</h2>

Release Date: {{ include.release_date | date: "%B %-d, %Y" }}

<h3 id="beta-20160407-binaries">Binaries</h3>

<div id="os-tabs" class="clearfix">
    <a href="https://binaries.cockroachdb.com/cockroach-beta-20160407.darwin-10.9-amd64.tgz"><button id="mac" data-eventcategory="mac-binary-release-notes">Mac</button></a>
    <a href="https://binaries.cockroachdb.com/cockroach-beta-20160407.linux-amd64.tgz"><button id="linux" data-eventcategory="linux-binary-release-notes">Linux</button></a>
</div>

<h3 id="beta-20160407-backwards-incompatible-changes">Backwards-incompatible Changes</h3>

* Any databases using the [`DECIMAL`](../v1.0/decimal.html) type will need to be deleted and
  created from scratch. Columns of this type were encoded incorrectly
  by `beta-20160330`.
  [#5820](https://github.com/cockroachdb/cockroach/pull/5820)
* [`SELECT`](../v1.0/select.html) statements must now specify one or more columns or
  expressions. Previously, statements such as `SELECT FROM t` were
  allowed but the results would confuse many clients.
  [#5859](https://github.com/cockroachdb/cockroach/pull/5859)
* It is now an error to insert a value that is too large into a column
  with a type of limited length such as [`VARCHAR(n)`](../v1.0/string.html).
  [#5750](https://github.com/cockroachdb/cockroach/pull/5750)

<h3 id="beta-20160407-compatibility">Compatibility</h3>

* Added support for the "flush" message in the PostgreSQL network
  protocol, which improves compatibility with the [node.js driver](../v1.0/install-client-drivers.html).
  [#5740](https://github.com/cockroachdb/cockroach/pull/5740)
* Fixed a panic when handling certain queries sent by the PHP PDO
  library. [#5783](https://github.com/cockroachdb/cockroach/pull/5783)
* Improved parsing of timestamps for compatibility with the Go
  `lib/pq` client library.
  [#5877](https://github.com/cockroachdb/cockroach/pull/5877)

<h3 id="beta-20160407-new-features">New Features</h3>

* Index hints: `SELECT FROM tbl@idx` or `SELECT FROM
  tbl@{FORCE_INDEX=idx}` instructs the query planner to use the given
  index. [#5785](https://github.com/cockroachdb/cockroach/pull/5785)
  and [#5806](https://github.com/cockroachdb/cockroach/pull/5806)
* The `cockroach` command-line client now accepts environment
  variables as default values for many command-line flags. See
  `--help` for details.
  [#5430](https://github.com/cockroachdb/cockroach/pull/5430)
* Added SQL `version()` [function](../v1.0/functions-and-operators.html).
  [#5763](https://github.com/cockroachdb/cockroach/pull/5763)
* Added compiler and platform information to `cockroach version`
  output. [#5766](https://github.com/cockroachdb/cockroach/pull/5766)
* Debugging tools show fractional seconds in timestamps.
  [#5736](https://github.com/cockroachdb/cockroach/pull/5736)
* In secure mode, plain HTTP requests to the [`http-port`](../v1.0/start-a-node.html) used by the
  admin UI are now redirected to HTTPS.
  [#5746](https://github.com/cockroachdb/cockroach/pull/5746)
* Links to debugging pages are available on the HTTP port at
  `/debug/`.
  [#5795](https://github.com/cockroachdb/cockroach/pull/5795)
* The [`cockroach zone set`](../v1.0/configure-replication-zones.html) command now echos the new configuration.
  [#5829](https://github.com/cockroachdb/cockroach/pull/5829)

<h3 id="beta-20160407-bug-fixes">Bug Fixes</h3>

* Improved flow control for raft snapshots, fixing an issue that could
  lead to nodes running out of memory.
  [#5721](https://github.com/cockroachdb/cockroach/pull/5721)
* Fixed a deadlock scenario in which two conflicting transactions
  would both be unable to make progress.
  [#5710](https://github.com/cockroachdb/cockroach/pull/5710)
* Fixed a panic while executing certain [`DELETE`](../v1.0/delete.html) statements.
  [#5840](https://github.com/cockroachdb/cockroach/pull/5840)

<h3 id="beta-20160407-internal-changes">Internal Changes</h3>

* Clock offsets are now measured continuously.
  [#5512](https://github.com/cockroachdb/cockroach/pull/5512)
* Improved caching to avoid redundant range descriptor lookups.
  [#5627](https://github.com/cockroachdb/cockroach/pull/5627)
* Reduced log spam when nodes are down.
  [#5883](https://github.com/cockroachdb/cockroach/pull/5883)

<h3 id="beta-20160407-contributors">Contributors</h3>

This release includes 77 merged PRs by 18 authors. We would like to
thank the following contributors from the CockroachDB community,
especially
[first-time contributor Seif Lotfy](https://github.com/cockroachdb/cockroach/pull/5747).

* Kenji Kaneda
* Seif Lotfy
<h2 id="{{ include.release | slugify }}">{{ include.release }}</h2>

Release Date: {{ include.release_date | date: "%B %-d, %Y" }}

<h3 id="beta-20160414-binaries">Binaries</h3>

<div id="os-tabs" class="clearfix">
    <a href="https://binaries.cockroachdb.com/cockroach-beta-20160414.darwin-10.9-amd64.tgz"><button id="mac" data-eventcategory="mac-binary-release-notes">Mac</button></a>
    <a href="https://binaries.cockroachdb.com/cockroach-beta-20160414.linux-amd64.tgz"><button id="linux" data-eventcategory="linux-binary-release-notes">Linux</button></a>
</div>

<h3 id="beta-20160414-backwards-incompatible-changes">Backwards-incompatible Changes</h3>

* Any databases using the [`DECIMAL`](../v1.0/decimal.html) type will need to be deleted and created from scratch. Columns of this type were encoded incorrectly in older beta releases. (Again! We apologize for the inconvenience.) [#5994](https://github.com/cockroachdb/cockroach/pull/5994)
* The [SQL function](../v1.0/functions-and-operators.html) `transaction_timestamp_unique` has been removed in favor of the new `cluster_logical_timestamp` function described below.

<h3 id="beta-20160414-new-features">New Features</h3>

* [`ALTER TABLE`](../v1.0/alter-table.html) supports several new operations: `ADD COLUMN` with a
  default value
  ([#5759](https://github.com/cockroachdb/cockroach/pull/5759)),
  `ALTER COLUMN SET DEFAULT`, `ALTER COLUMN DROP DEFAULT`, and `ALTER
  COLUMN DROP NOT NULL`
  ([#5947](https://github.com/cockroachdb/cockroach/pull/5947))
* The `TIMESTAMPTZ` type is now accepted as an alias for [`TIMESTAMP`](../v1.0/timestamp.html)
  for compatibility with PostgreSQL; our `TIMESTAMP` type already
  supports time zones in the same way as PostgreSQL's `TIMESTAMPTZ`.
  [#5893](https://github.com/cockroachdb/cockroach/pull/5893)
* The [`STRING`](../v1.0/string.html) type now accepts a length parameter (e.g.,
  `STRING(50)`), similar to `CHAR` and `VARCHAR`.
  [#5918](https://github.com/cockroachdb/cockroach/pull/5918)
* The `LIMIT` clause now accepts placeholders.
  [#5977](https://github.com/cockroachdb/cockroach/pull/5977)
* The `RETURNING` clause of [`INSERT`](../v1.0/insert.html), [`DELETE`](../v1.0/delete.html), and [`UPDATE`](../v1.0/update.html)
  statements now accepts placeholders.
  [#5934](https://github.com/cockroachdb/cockroach/pull/5934)
* When sending queries to the `cockroach sql` tool via `stdin`, a
  terminating semicolon is not required and instructions for
  interactive mode are no longer printed (similar to the existing
  behavior of `-e`).
  [#5988](https://github.com/cockroachdb/cockroach/pull/5988)
* The `experimental_uuid_v4()` [SQL function](../v1.0/functions-and-operators.html) has been renamed to
  `uuid_v4()`. The old name remains as a deprecated alias.
  [#5886](https://github.com/cockroachdb/cockroach/pull/5886)

<h3 id="beta-20160414-performance-improvements">Performance Improvements</h3>

* Reduced the number of files created in the data directory, and fixed
  issues in which the process could run out of file descriptors.
  [#5888](https://github.com/cockroachdb/cockroach/pull/5888)
* Introduced a special fast path for transactions that are contained
  entirely within one range. [#5966](https://github.com/cockroachdb/cockroach/pull/5966)
* Reduced the number of unnecessary network round trips by ensuring
  that the range lease holder and the raft leader coincide.
  [#5973](https://github.com/cockroachdb/cockroach/pull/5973)

<h3 id="beta-20160414-bug-fixes">Bug Fixes</h3>

* The gossip system no longer recommends redundant forwarding
  addresses, which could prevent the cluster from fully connecting.
  [#5901](https://github.com/cockroachdb/cockroach/pull/5901)
* Timestamps are now correctly reported in the network protocol as
  having time zone offsets.
  [#5909](https://github.com/cockroachdb/cockroach/pull/5909)
* Buffered data is now flushed to the network immediately on error.
  [#5909](https://github.com/cockroachdb/cockroach/pull/5909)
* Timeseries data no longer diverges across replicas.
  [#5905](https://github.com/cockroachdb/cockroach/pull/5905)

<h3 id="beta-20160414-internal-changes">Internal Changes</h3>

* [SQL functions](../v1.0/functions-and-operators.html) related to the current time (`now`,
  `current_timestamp`, `statement_timestamp`, `statement_timestamp`)
  now use the clock of the node that executed them instead of a
  timestamp derived from the internal hybrid logical clock. This means
  that these functions are less likely to produce duplicate values,
  but it is more likely for one transaction to see a timestamp that is
  less than a timestamp already seen in another transaction.
  Applications that require a globally monotonic timestamp-like value
  can use the new function `cluster_logical_timestamp` instead.
  [#5805](https://github.com/cockroachdb/cockroach/pull/5805)
* New HTTP endpoint `/debug/metrics` exposes internal metric data in
  JSON format.
  [#5894](https://github.com/cockroachdb/cockroach/pull/5894)
* [Logs](../v1.0/debug-and-error-logs.html) are no longer written to `stderr` by default, only to the
  `logs` subdirectory of the data directory.
  [#5979](https://github.com/cockroachdb/cockroach/pull/5979)

<h3 id="beta-20160414-contributors">Contributors</h3>

This release includes 58 merged PRs by 18 authors. We would like to
thank the following contributors from the CockroachDB community,
especially
[first-time contributor Andrey Shinkevich](https://github.com/cockroachdb/cockroach/pull/5956).

* Andrey Shinkevich
* Kenji Kaneda
* Seif Lotfy
* es-chow
<h2 id="{{ include.release | slugify }}">{{ include.release }}</h2>

Release Date: {{ include.release_date | date: "%B %-d, %Y" }}

<h3 id="beta-20160421-binaries">Binaries</h3>

<div id="os-tabs" class="clearfix">
    <a href="https://binaries.cockroachdb.com/cockroach-beta-20160421.darwin-10.9-amd64.tgz"><button id="mac" data-eventcategory="mac-binary-release-notes">Mac</button></a>
    <a href="https://binaries.cockroachdb.com/cockroach-beta-20160421.linux-amd64.tgz"><button id="linux" data-eventcategory="linux-binary-release-notes">Linux</button></a>
</div>

<h3 id="beta-20160421-upgrade-procedure">Upgrade Procedure</h3>

* This release cannot be run concurrently with older beta releases.
  Please stop all nodes running older releases before restarting any
  node with this version.

<h3 id="beta-20160421-new-features">New Features</h3>

* [`UPDATE`](../v1.0/update.html) statements may now set columns which are part of the
  primary key.
  [#6043](https://github.com/cockroachdb/cockroach/pull/6043)
* `CHECK` constraints can now be defined when creating tables and will
  be enforced for [`INSERT`](../v1.0/insert.html) statements (but not yet for [`UPDATE`](../v1.0/update.html)
  statements).
  [#6044](https://github.com/cockroachdb/cockroach/pull/6044)
* The `pow()` and `exp()` [functions](../v1.0/functions-and-operators.html) on `DECIMAL` values no longer lose
  precision.
  [#6170](https://github.com/cockroachdb/cockroach/pull/6170)
* In the [`cockroach sql`](../v1.0/use-the-built-in-sql-client.html) shell, the special command `!` can now be used
  to execute a system command and display its output. `|` executes a
  system command and runs its output as a SQL statement.
  [#5961](https://github.com/cockroachdb/cockroach/pull/5961)
* Added `SHOW CREATE TABLE`.
  [#6158](https://github.com/cockroachdb/cockroach/pull/6158)
* The `RETURNING` clause of [`INSERT`](../v1.0/insert.html) statements can now refer to tables
  by aliases defined with `AS`.
  [#5903](https://github.com/cockroachdb/cockroach/pull/5903)
* The SQL parser now accepts the `CASCADE` and `RESTRICT` keywords in
  the [`DROP INDEX`](../v1.0/drop-index.html), [`TRUNCATE TABLE`](../v1.0/truncate.html), [`ALTER TABLE DROP COLUMN`](../v1.0/alter-table.html), and [`ALTER TABLE DROP CONSTRAINT`](../v1.0/alter-table.html) statements. These keywords relate to
  features we have not yet implemented, so they do nothing, but this change
  improves compatibility with frameworks that like to send these
  keywords.
  [#5957](https://github.com/cockroachdb/cockroach/pull/5957)

<h3 id="beta-20160421-admin-ui">Admin UI</h3>

* The time scale used for graphs can now be changed.
  [#6145](https://github.com/cockroachdb/cockroach/pull/6145)
* Some UI elements now include tooltips with additional explanations.
  [#6006](https://github.com/cockroachdb/cockroach/pull/6006)
* A warning is displayed when the cluster is unreachable.
  [#6042](https://github.com/cockroachdb/cockroach/pull/6042)
* There are now fewer unnecessary scrollbars.
  [#6018](https://github.com/cockroachdb/cockroach/pull/6018)

<h3 id="beta-20160421-bug-fixes">Bug fixes</h3>

* The rebalancer is now better at distributing ranges across the nodes
  in a cluster.
  [#6133](https://github.com/cockroachdb/cockroach/pull/6133)
* Fixed a major cause of "timestamp in future" errors.
  [#5845](https://github.com/cockroachdb/cockroach/pull/5845)
* Fixed several potential panics.
  [#6111](https://github.com/cockroachdb/cockroach/pull/6111)
  [#6143](https://github.com/cockroachdb/cockroach/pull/6143)

<h3 id="beta-20160421-performance-improvements">Performance Improvements</h3>

* Improved the performance of schema changes while data is being
  modified.
  [#5996](https://github.com/cockroachdb/cockroach/pull/5996)
* The RPC subsystem is now bypassed for requests to the local node.
  [#6021](https://github.com/cockroachdb/cockroach/pull/6021)
* Information about completed transactions is now cleaned up more
  efficiently.
  [#5882](https://github.com/cockroachdb/cockroach/pull/5882)
* Fixed a leak of goroutines.
  [#6010](https://github.com/cockroachdb/cockroach/pull/6010)
* Reduced memory allocations on the critical path.
  [#6117](https://github.com/cockroachdb/cockroach/pull/6117)
  [#6119](https://github.com/cockroachdb/cockroach/pull/6119)
  [#6140](https://github.com/cockroachdb/cockroach/pull/6140)
  [#6141](https://github.com/cockroachdb/cockroach/pull/6141)
  [#6142](https://github.com/cockroachdb/cockroach/pull/6142)

<h3 id="beta-20160421-doc-improvements">Doc Improvements</h3>

* Overview of [SQL privileges](../v1.0/privileges.html).
* Summaries and required privileges for all supported [SQL statements](../v1.0/sql-statements.html).
* Reference docs for [`DROP DATABASE`](../v1.0/drop-database.html), [`DROP TABLE`](../v1.0/drop-table.html), [`GRANT`](../v1.0/grant.html), [`RENAME DATABASE`](../v1.0/rename-database.html), [`RENAME TABLE`](../v1.0/rename-table.html), [`REVOKE`](../v1.0/revoke.html), and [`SHOW INDEX`](../v1.0/show-index.html).

<h3 id="beta-20160421-contributors">Contributors</h3>

This release includes 74 merged PRs by 21 authors. We would like to
thank the following contributors from the CockroachDB community,
especially first-time contributor
[Andrew NS Yeow](https://github.com/cockroachdb/cockroach/pull/6109).

* Andrew NS Yeow
* Kenji Kaneda
* Kenjiro Nakayama
* Lu Guanqun
* Seif Lotfy
<h2 id="{{ include.release | slugify }}">{{ include.release }}</h2>

Release Date: {{ include.release_date | date: "%B %-d, %Y" }}

<h3 id="beta-20160428-binaries">Binaries</h3>

<div id="os-tabs" class="clearfix">
    <a href="https://binaries.cockroachdb.com/cockroach-beta-20160428.darwin-10.9-amd64.tgz"><button id="mac" data-eventcategory="mac-binary-release-notes">Mac</button></a>
    <a href="https://binaries.cockroachdb.com/cockroach-beta-20160428.linux-amd64.tgz"><button id="linux" data-eventcategory="linux-binary-release-notes">Linux</button></a>
</div>

<h3 id="beta-20160428-backwards-incompatible-changes">Backwards-Incompatible Changes</h3>

* Time zone offsets are no longer shown when querying columns of type
  `TIMESTAMP`; the new type `TIMESTAMP WITH TIME ZONE` should be used
  instead. This is more consistent with other databases.
  [#6165](https://github.com/cockroachdb/cockroach/pull/6165)

<h3 id="beta-20160428-new-features">New Features</h3>

* `INTERVAL` values accept two new formats: ISO8601 (`P2H30M`) and the
  PostgreSQL format (`2 hours 30 minutes`) in addition to the existing
  Go style (`2h30m`).
  [#6216](https://github.com/cockroachdb/cockroach/pull/6216)
* Tuples can now be compared in SQL expressions.
  [#6217](https://github.com/cockroachdb/cockroach/pull/6217)
* The server now implements the `systemd` `NOTIFY_SOCKET` protocol.
  [#6268](https://github.com/cockroachdb/cockroach/pull/6268)
* The new flag `cockroach start --background` can be used to start a
  server in the background. This is better than appending `&` because
  the process doesn't return until it is ready to receive traffic.
  [#6268](https://github.com/cockroachdb/cockroach/pull/6268)

<h3 id="beta-20160428-bug-fixes">Bug fixes</h3>

* The SQL shell can once again be suspended with `ctrl-z`.
  [#6171](https://github.com/cockroachdb/cockroach/pull/6171)
* Fixed an error in the SQL shell when the history file contains empty
  lines. [#6192](https://github.com/cockroachdb/cockroach/pull/6192)
* The `--store` and `--key-size` command-line flags are no longer
  marked as required.
  [#6229](https://github.com/cockroachdb/cockroach/pull/6229)
* The command line interface is better about printing errors to
  `stderr`, not just the log file.
  [#6258](https://github.com/cockroachdb/cockroach/pull/6258)
* The `INFO` log file is now created in the correct default location
  (`cockroach-data/logs`) instead of `$TMPDIR`.
  [#6265](https://github.com/cockroachdb/cockroach/pull/6265)
* Fixed errors that could be introduced by updating tables while a
  schema change is in progress.
  [#6160](https://github.com/cockroachdb/cockroach/pull/6160)
* Fixed several potential panics.
  [#6187](https://github.com/cockroachdb/cockroach/pull/6187),
  [#6235](https://github.com/cockroachdb/cockroach/pull/6235),
  [#6242](https://github.com/cockroachdb/cockroach/pull/6242)

<h3 id="beta-20160428-performance-improvements">Performance Improvements</h3>

* Raft processing is no longer blocked while generating a snapshot for
  a new replica.
  [#6253](https://github.com/cockroachdb/cockroach/pull/6253)

<h3 id="beta-20160428-contributors">Contributors</h3>

This release includes 89 merged PRs by 19 authors. We would like to
thank the following contributors from the CockroachDB community,
especially first-time contributor
[Karl Southern](https://github.com/cockroachdb/cockroach/pull/4858).

* Karl Southern
* Kenjiro Nakayama
<h2 id="{{ include.release | slugify }}">{{ include.release }}</h2>

Release Date: {{ include.release_date | date: "%B %-d, %Y" }}

<h3 id="beta-20160505-binaries">Binaries</h3>

<div id="os-tabs" class="clearfix">
    <a href="https://binaries.cockroachdb.com/cockroach-beta-20160505.darwin-10.9-amd64.tgz"><button id="mac" data-eventcategory="mac-binary-release-notes">Mac</button></a>
    <a href="https://binaries.cockroachdb.com/cockroach-beta-20160505.linux-amd64.tgz"><button id="linux" data-eventcategory="linux-binary-release-notes">Linux</button></a>
</div>

<h3 id="beta-20160505-new-features">New Features</h3>

* New SQL command `UPSERT` is available. This is syntactically similar
  to `INSERT` but will update the row with the supplied columns if
  there is a conflicting row for the primary key.
  [#6456](https://github.com/cockroachdb/cockroach/pull/6456)
* The SQL type system has been overhauled, reducing the number of
  explicit casts required.
  [RFC](https://github.com/cockroachdb/cockroach/blob/master/docs/RFCS/20160203_typing.md)
* Tuples are now considered for index selection, so `SELECT * FROM t
  WHERE (a, b) > ($1, $2)` can use an index defined on `(a, b)`.
  [#6332](https://github.com/cockroachdb/cockroach/pull/6332)

<h3 id="beta-20160505-performance-improvements">Performance improvements</h3>

* Bulk inserts to previously-empty table spans are now faster.
  [#6375](https://github.com/cockroachdb/cockroach/pull/6375),
  [#6414](https://github.com/cockroachdb/cockroach/pull/6414)
* Ranges that have grown above the target size are now split before
  being rebalanced, reducing memory usage.
  [#6447](https://github.com/cockroachdb/cockroach/pull/6447)
* Reduced rapid memory growth during partitions.
  [#6448](https://github.com/cockroachdb/cockroach/pull/6448)
* [`ALTER TABLE`](../v1.0/alter-table.html) now performs backfill operations in chunks.
  [#6056](https://github.com/cockroachdb/cockroach/pull/6056)
* [`DROP TABLE`](../v1.0/drop-table.html) now uses the schema change mechanism intead of
  synchronously deleting all data.
  [#6336](https://github.com/cockroachdb/cockroach/pull/6336)
* Scanning over records that have only one MVCC version is faster.
  [#6351](https://github.com/cockroachdb/cockroach/pull/6351)
* The command queue now uses coarse-grained spans until a conflict has
  occurred.
  [#6412](https://github.com/cockroachdb/cockroach/pull/6412)
* When a replica is rebalanced from one node to another, the old node
  no longer triggers unnecessary Raft elections.
  [#6423](https://github.com/cockroachdb/cockroach/pull/6423)

<h3 id="beta-20160505-production">Production</h3>

* Servers now attempt to drain more gracefully when restarted.
  [#6313](https://github.com/cockroachdb/cockroach/pull/6313)
* Metrics on lease requests are now available internally.
  [#5596](https://github.com/cockroachdb/cockroach/pull/5596)
* The RocksDB cache will no longer use all available memory if
  `cgroups` reports a limit higher than physical memory.
  [#6379](https://github.com/cockroachdb/cockroach/pull/6379)

<h3 id="beta-20160505-bug-fixes">Bug Fixes</h3>

* The range descriptor cache is now invalidated correctly, fixing a
  bug in which requests could be retried repeatedly on the wrong node.
  [#6425](https://github.com/cockroachdb/cockroach/pull/6425)
* Fixed a bug with some queries using aggregate functions like `MIN()`
  and `MAX()`. [#6380](https://github.com/cockroachdb/cockroach/pull/6380)
* Tuple comparisons now work correctly when one tuple contains `NULL`.
  [#6370](https://github.com/cockroachdb/cockroach/pull/6370)

<h3 id="beta-20160505-doc-updates">Doc Updates</h3>

* Community-supported docs and configuration files for [running CockroachDB inside a single VirtualBox virtual machine](http://uptimedba.github.io/cockroach-vb-single/cockroach-vb-single/home.html). [#263](https://github.com/cockroachdb/docs/pull/263)
* Docs on using [environment variables](../v1.0/cockroach-commands.html#environment-variables) as default values for command-line flags. [#235](https://github.com/cockroachdb/docs/pull/235)
* Docs on using the [`version`](../v1.0/view-version-details.html) and [`node`](../v1.0/view-node-details.html) commands.

<h3 id="beta-20160505-contributors">Contributors</h3>

This release includes 66 merged PRs by 18 authors. We would like to
thank the following contributors from the CockroachDB community, especially first-time contributor [Paul Steffensen](https://github.com/uptimeDBA).

* Bogdan Batog
* il9ue
* Kenji Kaneda
* Paul Steffensen
<h2 id="{{ include.release | slugify }}">{{ include.release }}</h2>

Release Date: {{ include.release_date | date: "%B %-d, %Y" }}

<h3 id="beta-20160512-binaries">Binaries</h3>

<div id="os-tabs" class="clearfix">
    <a href="https://binaries.cockroachdb.com/cockroach-beta-20160512.darwin-10.9-amd64.tgz"><button id="mac" data-eventcategory="mac-binary-release-notes">Mac</button></a>
    <a href="https://binaries.cockroachdb.com/cockroach-beta-20160512.linux-amd64.tgz"><button id="linux" data-eventcategory="linux-binary-release-notes">Linux</button></a>
</div>

<h3 id="beta-20160512-upgrade-procedure">Upgrade Procedure</h3>

- This release cannot be run concurrently with older beta releases. Please stop all nodes running older releases before restarting any node with this version.

<h3 id="beta-20160512-new-features">New Features</h3>

- The [`INSERT`](../v1.0/insert.html) statement now accepts an `ON CONFLICT` clause, for a more flexible alternative to `UPSERT`. [#6591](https://github.com/cockroachdb/cockroach/pull/6591)
- The new [`EXPLAIN (TYPES)`](../v1.0/explain.html) subcommand prints information about the types of expressions in a statement. [#6482](https://github.com/cockroachdb/cockroach/pull/6482)
- Added the aggregate functions [`BOOL_AND()`](../v1.0/functions-and-operators.html) and [`BOOL_OR()`](../v1.0/functions-and-operators.html). [#6535](https://github.com/cockroachdb/cockroach/pull/6535)
- The aggregate functions [`SUM(INT)`](../v1.0/functions-and-operators.html) and [`AVG(INT)`](../v1.0/functions-and-operators.html) now return `DECIMAL` instead of `INT` and `FLOAT` respectively. [#6532](https://github.com/cockroachdb/cockroach/pull/6532)
- The new command-line flag [`--raft-tick-interval`](../v1.0/start-a-node.html) allows the raft heartbeat frequency to be changed in high-latency deployments. [#6615](https://github.com/cockroachdb/cockroach/pull/6615)
- [`TIMESTAMP`](../v1.0/timestamp.html) values can now be cast to type `STRING`. [#6605](https://github.com/cockroachdb/cockroach/pull/6605)
- The [`CREATE DATABASE`](../v1.0/create-database.html) statement now accepts an `ENCODING` option for compatibility with PostgreSQL, although `UTF8` is the only supported encoding. [#6614](https://github.com/cockroachdb/cockroach/pull/6614)

<h3 id="beta-20160512-bug-fixes">Bug Fixes</h3>

- Fixed a bug when a single [`INSERT`](../v1.0/insert.html) statement inserts multiple values for the same primary key. [#6564](https://github.com/cockroachdb/cockroach/pull/6564)
- Fixed an inconsistency that could occur when a transaction in [`SNAPSHOT` isolation](../v1.0/transactions.html#isolation-levels) used the internal `DeleteRange` operation. [#6548](https://github.com/cockroachdb/cockroach/pull/6548)
- Fixed an integer underflow that could result in log messages like `transport: http2Server received 4294965918-bytes`. [#6567](https://github.com/cockroachdb/cockroach/pull/6567)
- Long-running transactions are no longer allowed to exceed their table descriptor lease. [#6418](https://github.com/cockroachdb/cockroach/pull/6418)
- Subtracting an `INTERVAL` from a `TIMESTAMP WITH TIME ZONE` returns a `TIMESTAMP WITH TIME ZONE` instead of one without a time zone. [#6540](https://github.com/cockroachdb/cockroach/pull/6540)
- Improved type checking of comparisons involving tuples. [#6517](https://github.com/cockroachdb/cockroach/pull/6517)
- [`CREATE TABLE`](../v1.0/create-table.html), [`ALTER TABLE`](../v1.0/alter-table.html), and [`DROP INDEX`](../v1.0/drop-index.html) now do more validation of their arguments. [#6492](https://github.com/cockroachdb/cockroach/pull/6492)

<h3 id="beta-20160512-performance-improvments">Performance improvments</h3>

- Improved tracking of keys modified during a transaction, improving performance of bulk inserts. [#6611](https://github.com/cockroachdb/cockroach/pull/6611)
- Schema changes can now continue past transient errors. [#6552](https://github.com/cockroachdb/cockroach/pull/6552)

<h3 id="beta-20160512-doc-updates">Doc Updates</h3>

- The new [Tech Talks](https://www.cockroachlabs.com/community/tech-talks/) page links to recordings and slides from talks by CockroachDB founders and engineers.
- Docs for the [built-in SQL client](../v1.0/use-the-built-in-sql-client.html) now demonstrate various ways to execute SQL statements from the command line and run external commands from the interactive shell.
- [Data type](../v1.0/data-types.html) docs now provide details about storage size.
- Although it's not possible to access CockroachDB's key-value store directly, the [FAQ](../v1.0/frequently-asked-questions.html#can-i-use-cockroachdb-as-a-key-value-store) now suggests a SQL alternative.
- [Replication recommendations](../v1.0/configure-replication-zones.html#node-replica-recommendations) now address cross-datacenter scenarios.

<h3 id="beta-20160512-contributors">Contributors</h3>

This release includes 87 merged PRs by 18 authors. We would like to
thank the following contributor from the CockroachDB community:

